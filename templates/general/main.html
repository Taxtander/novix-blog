{% extends 'base.html' %}

{% block header %}
    <title>My Blog</title>
{% endblock %}
{% block body %}
    <h1>Welcome to My Blog</h1>
    
    {% if posts %}
        {% for post in posts %}
            <div style="margin-bottom: 30px; padding: 15px; border-bottom: 1px solid #eee;">
                <h2><a href="{{ url_for('main_blueprint.general.post_page', id=post.id, title=post.title|replace(' ', '-')) }}">{{ post.title }}</a></h2>
                <p><em>Published on: {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}</em></p>
                <p>{{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}</p>
            </div>
        {% endfor %}
    {% else %}
        <p>No blog posts yet. Check back later!</p>
    {% endif %}
    
    <a href="/admin/login">Admin Login</a>
{% endblock %}